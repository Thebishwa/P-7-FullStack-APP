{"ast":null,"code":"import _regeneratorRuntime from \"/Users/bishwapaiyar42/Downloads/oc-project-7-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/bishwapaiyar42/Downloads/oc-project-7-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"Login-form\",\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    handleLogin: function handleLogin() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(\"/api/user/login\", {\n                  email: _this.email,\n                  password: _this.password\n                });\n\n              case 3:\n                response = _context.sent;\n                localStorage.setItem(\"token\", response.data.token); //user logged info stored\n\n                localStorage.setItem(\"userId\", response.data.userID); //redirect to home after login\n\n                if (response.status == 200) {\n                  // this.$router.push(\"home\");\n                  window.location.assign('/home');\n                }\n\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n\n                if (_context.t0.response.status == 404) {\n                  alert(\"User doesn't exist!\");\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AAEA;EACAA,kBADA;EAGAC,IAHA,kBAGA;IACA;MACAC,SADA;MAEAC;IAFA;EAIA,CARA;EAUAC;IACAC,WADA,yBACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAC;kBACAJ,kBADA;kBAEAC;gBAFA,EAFA;;cAAA;gBAEAI,QAFA;gBAMAC,mDANA,CAOA;;gBACAA,qDARA,CASA;;gBACA;kBACA;kBACAC;gBACA;;gBAbA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAeA;kBACAC;gBACA;;cAjBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAmBA;EApBA;AAVA","names":["name","data","email","password","methods","handleLogin","axios","response","localStorage","window","alert"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\n  <section class=\"login-box\">\n    <form @submit.prevent=\"handleLogin\">\n      <div class=\"login-form\">\n        <div class=\"center\">\n          <h3>Login</h3>\n          <br>\n          <div class=\"form-group\">\n            <label class=\"userForm-label\" for=\"email\">Email</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              v-model=\"email\"\n              placeholder=\"Email\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"userForm-label\" for=\"password\">Password</label>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              v-model=\"password\"\n              placeholder=\"Password\"\n              required\n            />\n          </div>\n\n          <input type=\"submit\" value=\"Login\" />\n\n          <div class=\"register_link\">\n            Not a member? <router-link to=\"/Register\">Register</router-link>\n          </div>\n        </div>\n      </div>\n    </form>\n  </section>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login-form\",\n\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n\n  methods: {\n    async handleLogin() {\n      try {\n        const response = await axios.post(\"/api/user/login\", {\n        email: this.email,\n        password: this.password,\n        });\n        localStorage.setItem(\"token\", response.data.token);\n        //user logged info stored\n        localStorage.setItem(\"userId\", response.data.userID);\n        //redirect to home after login\n        if (response.status == 200) {\n          // this.$router.push(\"home\");\n          window.location.assign('/home')\n          }\n        } catch (err) {\n          if (err.response.status == 404) {\n            alert(\"User doesn't exist!\")\n          }\n        }\n    },\n  },\n};\n\n</script>\n\n<style>\n.login-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n}\n\n.login-form {\n  border: 1px solid black;\n  border-radius: 10px;\n  background-color: #333;\n  color: white;\n  padding: 55px;\n  box-shadow: 0px 2px 8px rgb(0, 0, 0, 1);\n}\n\n.center h3 {\n  text-align: center;\n  padding: 0 0 20px 0;\n  border-bottom: 1px solid;\n}\n\n.form-group {\n  padding: 15px;\n  box-sizing: border-box;\n  text-align: center;\n}\n\ninput[type=\"submit\"] {\n  margin-top: 30px;\n  width: 100%;\n  height: 50px;\n  border: 2px solid white;\n  background: green;\n  color: white;\n  border-radius: 10px;\n}\n\ninput[type=\"submit\"]:hover {\n  border-color: aqua;\n  transition: 0.8s;\n}\n\n.register_link {\n  margin-top: 30px;\n  text-align: center;\n}\n\n.register_link a {\n  color: aqua;\n  text-decoration: none;\n}\n\n.register_link a:hover {\n  text-decoration: underline;\n}\n\n@media only screen and (max-width: 768px) {\n  .login-box {\n    display: block;\n  }\n\n  .login-form {\n    border-radius: 0;\n\n  }\n  \n}\n\n@media only screen and (max-width: 480px) {\n\n  .login-form {\n    padding:15px;\n  }\n  \n}\n</style>\n"]},"metadata":{},"sourceType":"module"}